{"version":3,"file":"index.min.js","sources":["../../modules/app-sidebar.js","../../modules/gen-id.js","../../modules/in-radio.js","../../modules/site-details.js"],"sourcesContent":["import { AppComponent } from '@sibley/app-component';\nimport tpl from './app-sidebar.html';\n\nexport class AppSidebar extends AppComponent {\n  constructor() {\n    super();\n    AppComponent.init(this, AppSidebar, tpl);\n\n    this.data.renderTime = function() {\n      return new Date();\n    }\n\n    var track = (function() {\n      this.data.trackTime = this.data.renderTime();\n    }).bind(this);\n    setInterval(track, 1000);\n  }\n\n  get eventListeners() {\n    return [\n      ['attributechange', 'in-radio', (function(event) {\n        this.switchTab(this.$views.getAttribute('choice'));\n      }).bind(this)]\n    ];\n  }\n\n  switchTab(choice) {\n    if (choice !== this.$views.getAttribute('choice')) {\n      this.$views.setAttribute('choice', choice);\n      return;\n    }\n    this.shadowRoot.querySelectorAll('slot').forEach((el) => {\n      if ((choice === 'default' && !el.getAttribute('name')) || (el.getAttribute('name') === choice)) {\n        el.hidden = false;\n      } else {\n        el.hidden = true;\n      }\n    });\n  }\n\n  static get observedAttributes() {\n    return ['title'];\n  }\n}\n\nwindow.customElements.define('app-sidebar', AppSidebar);\n","// https://gist.github.com/gordonbrander/2230317\nexport const genId = function() {\n  return '_' + Math.random().toString(36).substr(2, 9);\n}","import { AppComponent } from '@sibley/app-component';\nimport { genId } from './gen-id.js';\nimport tpl from './in-radio.html';\n\nexport class InRadio extends AppComponent {\n  constructor() {\n    super();\n    AppComponent.init(this, InRadio, tpl);\n\n    this.observedAttributes['choices'].push(this.renderChoices.bind(this));\n    this.observedAttributes['choice'].push((function(prop, val) {\n      this.setAttribute(prop, this.serializeAttribute(val));\n      const option = this.shadowRoot.querySelector('[value='+this.data.choice+']');\n      if (option) {\n        option.checked = true;\n      }\n    }).bind(this));\n\n    this.on('attributechange', (function(){\n      this.dispatchEvent(\n        new CustomEvent('attributechange', {\n          bubbles: true,\n          cancelable: true\n        })\n      );\n    }).bind(this));\n  }\n\n  get eventListeners() {\n    const thing = (function(event) {\n      const selected = this.shadowRoot.querySelector(':checked');\n      this.data.choice = selected.getAttribute('value');\n    }).bind(this);\n    return [['click', 'input', thing]];\n  }\n\n  renderChoices() {\n    const container = this.shadowRoot,\n      template = this.$choiceTpl,\n      name = this.data['in-name'],\n      choices = this.data.choices;\n\n    if (!container || !template || !name || !choices) {\n      return;\n    }\n\n    container.querySelectorAll('.choice').forEach((el) => {el.remove()})\n\n    let checked = false;\n    for (let choice of choices) {\n      let tplb = AppComponent.stashe(template.content.cloneNode(true));\n      let context = {};\n      context.id = genId();\n      context.name = name;\n      context.choice = choice;\n      let result = tplb(context);\n      let $input = result.querySelector('input');\n      if (!checked) {\n        $input.checked = true;\n        checked = true;\n        this.data.choice = choice;\n      }\n      container.appendChild(result);\n    }\n  }\n\n  static get observedAttributes() {\n    return ['in-name', 'choices', 'choice'];\n  }\n}\n\nwindow.customElements.define('in-radio', InRadio);\n","import { AppComponent } from '@sibley/app-component';\nimport { genId } from './gen-id.js';\nimport tpl from './site-details.html';\n\nexport class SiteDetails extends AppComponent {\n  constructor() {\n    super();\n    AppComponent.init(this, SiteDetails, tpl);\n\n    this.observedAttributes['siteinfo'].push(this.renderTable.bind(this));\n  }\n\n  static get observedAttributes() {\n    return [\n      'siteinfo'\n    ];\n  }\n\n  renderTable() {\n    const container = this.$table,\n    template = this.$rowTpl;\n    if (!container || !template || !this.data.siteinfo ) {\n      return;\n    }\n    container.querySelectorAll('*').forEach((el) => {el.remove()});\n\n    for (const [key, value] of Object.entries(this.data.siteinfo)) {\n      let tplb = AppComponent.stashe(template.content.cloneNode(true));\n      let context = {};\n      context.id = genId();\n      context.key = key;\n      context.value = value;\n      let result = tplb(context);\n      container.appendChild(result);\n    }\n  }\n}\n\nwindow.customElements.define('site-details', SiteDetails);"],"names":["AppSidebar","AppComponent","[object Object]","super","init","this","tpl","data","renderTime","Date","track","trackTime","bind","setInterval","eventListeners","event","switchTab","$views","getAttribute","choice","shadowRoot","querySelectorAll","forEach","el","hidden","setAttribute","observedAttributes","window","customElements","define","genId","Math","random","toString","substr","InRadio","push","renderChoices","prop","val","serializeAttribute","option","querySelector","checked","on","dispatchEvent","CustomEvent","bubbles","cancelable","selected","container","template","$choiceTpl","name","choices","remove","tplb","stashe","content","cloneNode","context","id","result","$input","appendChild","SiteDetails","renderTable","$table","$rowTpl","siteinfo","key","value","Object","entries"],"mappings":"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"}