{"version":3,"file":"index.min.js","sources":["../modules/app-sidebar.js","../modules/gen-id.js","../modules/in-radio.js","../modules/site-details.js"],"sourcesContent":["import { AppComponent } from '@sibley/app-component';\nimport tpl from './app-sidebar.html';\n\nexport class AppSidebar extends AppComponent {\n  constructor() {\n    super();\n    AppComponent.init(this, AppSidebar, tpl);\n\n    this.data.renderTime = function() {\n      return new Date();\n    }\n\n    var track = (function() {\n      this.data.trackTime = this.data.renderTime();\n    }).bind(this);\n    setInterval(track, 1000);\n  }\n\n  get eventListeners() {\n    return [\n      ['attributechange', 'in-radio', (function(event) {\n        this.switchTab(this.$views.getAttribute('choice'));\n      }).bind(this)]\n    ];\n  }\n\n  switchTab(choice) {\n    if (choice !== this.$views.getAttribute('choice')) {\n      this.$views.setAttribute('choice', choice);\n      return;\n    }\n    this.shadowRoot.querySelectorAll('slot').forEach((el) => {\n      if ((choice === 'default' && !el.getAttribute('name')) || (el.getAttribute('name') === choice)) {\n        el.hidden = false;\n      } else {\n        el.hidden = true;\n      }\n    });\n  }\n\n  static get observedAttributes() {\n    return ['title'];\n  }\n}\n\nwindow.customElements.define('app-sidebar', AppSidebar);\n","// https://gist.github.com/gordonbrander/2230317\nexport const genId = function() {\n  return '_' + Math.random().toString(36).substr(2, 9);\n}","import { AppComponent } from '@sibley/app-component';\nimport { genId } from './gen-id.js';\nimport tpl from './in-radio.html';\n\nexport class InRadio extends AppComponent {\n  constructor() {\n    super();\n    AppComponent.init(this, InRadio, tpl);\n\n    this.observedAttributes['choices'].push(this.renderChoices.bind(this));\n    this.observedAttributes['choice'].push((function(prop, val) {\n      this.setAttribute(prop, this.serializeAttribute(val));\n      const option = this.shadowRoot.querySelector('[value='+this.data.choice+']');\n      if (option) {\n        option.checked = true;\n      }\n    }).bind(this));\n\n    this.on('attributechange', (function(){\n      this.dispatchEvent(\n        new CustomEvent('attributechange', {\n          bubbles: true,\n          cancelable: true\n        })\n      );\n    }).bind(this));\n  }\n\n  get eventListeners() {\n    const thing = (function(event) {\n      const selected = this.shadowRoot.querySelector(':checked');\n      this.data.choice = selected.getAttribute('value');\n    }).bind(this);\n    return [['click', 'input', thing]];\n  }\n\n  renderChoices() {\n    const container = this.shadowRoot,\n      template = this.$choiceTpl,\n      name = this.data['in-name'],\n      choices = this.data.choices;\n\n    if (!container || !template || !name || !choices) {\n      return;\n    }\n\n    container.querySelectorAll('.choice').forEach((el) => {el.remove()})\n\n    let checked = false;\n    for (let choice of choices) {\n      let tplb = AppComponent.stashe(template.content.cloneNode(true));\n      let context = {};\n      context.id = genId();\n      context.name = name;\n      context.choice = choice;\n      let result = tplb(context);\n      let $input = result.querySelector('input');\n      if (!checked) {\n        $input.checked = true;\n        checked = true;\n        this.data.choice = choice;\n      }\n      container.appendChild(result);\n    }\n  }\n\n  static get observedAttributes() {\n    return ['in-name', 'choices', 'choice'];\n  }\n}\n\nwindow.customElements.define('in-radio', InRadio);\n","import { AppComponent } from '@sibley/app-component';\nimport { genId } from './gen-id.js';\nimport tpl from './site-details.html';\n\nexport class SiteDetails extends AppComponent {\n  constructor() {\n    super();\n    AppComponent.init(this, SiteDetails, tpl);\n\n    this.observedAttributes['siteinfo'].push(this.renderTable.bind(this));\n  }\n\n  static get observedAttributes() {\n    return [\n      'siteinfo'\n    ];\n  }\n\n  renderTable() {\n    const container = this.$table,\n    template = this.$rowTpl;\n    if (!container || !template || !this.data.siteinfo ) {\n      return;\n    }\n    container.querySelectorAll('*').forEach((el) => {el.remove()});\n\n    for (const [key, value] of Object.entries(this.data.siteinfo)) {\n      let tplb = AppComponent.stashe(template.content.cloneNode(true));\n      let context = {};\n      context.id = genId();\n      context.key = key;\n      context.value = value;\n      let result = tplb(context);\n      container.appendChild(result);\n    }\n  }\n}\n\nwindow.customElements.define('site-details', SiteDetails);"],"names":["AppSidebar","AppComponent","init","tpl","data","renderTime","Date","track","trackTime","this","bind","setInterval","choice","$views","getAttribute","shadowRoot","querySelectorAll","forEach","el","hidden","setAttribute","event","switchTab","window","customElements","define","genId","Math","random","toString","substr","InRadio","observedAttributes","push","_this","renderChoices","prop","val","serializeAttribute","option","querySelector","checked","on","dispatchEvent","CustomEvent","bubbles","cancelable","container","template","$choiceTpl","name","choices","remove","tplb","stashe","content","cloneNode","context","id","result","$input","appendChild","selected","SiteDetails","renderTable","$table","$rowTpl","siteinfo","Object","entries","key","value"],"mappings":"41EAGaA,GAAb,mEAGIC,eAAaC,UAAWF,EAAYG,KAE/BC,KAAKC,WAAa,kBACd,IAAIC,UAGTC,EAAS,gBACNH,KAAKI,UAAYC,KAAKL,KAAKC,cAC/BK,kBACHC,YAAYJ,EAAO,kBAZSN,qDAuBpBW,GACJA,IAAWH,KAAKI,OAAOC,aAAa,eAInCC,WAAWC,iBAAiB,QAAQC,QAAQ,SAACC,GAChC,YAAXN,IAAyBM,EAAGJ,aAAa,SAAaI,EAAGJ,aAAa,UAAYF,EACrFM,EAAGC,QAAS,EAEZD,EAAGC,QAAS,SAPTN,OAAOO,aAAa,SAAUR,kDARlC,kBAAmB,WAAa,SAASS,QACnCC,UAAUb,KAAKI,OAAOC,aAAa,YACvCJ,KAAKD,4DAmBF,gBAtCZ,GA0CAc,OAAOC,eAAeC,OAAO,cAAezB,GC5CrC,IAAM0B,EAAQ,iBACZ,IAAMC,KAAKC,SAASC,SAAS,IAAIC,OAAO,EAAG,6LCEvCC,GAAb,0EAGI9B,eAAaC,UAAW6B,EAAS5B,KAE5B6B,mBAAL,QAAmCC,KAAKC,EAAKC,cAAczB,cACtDsB,mBAAL,OAAkCC,KAAM,SAASG,EAAMC,QAChDjB,aAAagB,EAAM3B,KAAK6B,mBAAmBD,QAC1CE,EAAS9B,KAAKM,WAAWyB,cAAc,UAAU/B,KAAKL,KAAKQ,OAAO,KACpE2B,IACFA,EAAOE,SAAU,IAElB/B,cAEEgC,GAAG,kBAAoB,gBACrBC,cACH,IAAIC,YAAY,mBACdC,SAAS,EACTC,YAAY,MAGfpC,yBArBsBT,+DAiCnB8C,EAAYtC,KAAKM,WACrBiC,EAAWvC,KAAKwC,WAChBC,EAAOzC,KAAKL,KAAK,WACjB+C,EAAU1C,KAAKL,KAAK+C,WAEjBJ,GAAcC,GAAaE,GAASC,GAIzCJ,EAAU/B,iBAAiB,WAAWC,QAAQ,SAACC,GAAQA,EAAGkC,eAEtDX,GAAU,qCACKU,iDAAS,KAAnBvC,UACHyC,EAAOpD,eAAaqD,OAAON,EAASO,QAAQC,WAAU,IACtDC,KACJA,EAAQC,GAAKhC,IACb+B,EAAQP,KAAOA,EACfO,EAAQ7C,OAASA,MACb+C,EAASN,EAAKI,GACdG,EAASD,EAAOnB,cAAc,SAC7BC,IACHmB,EAAOnB,SAAU,EACjBA,GAAU,OACLrC,KAAKQ,OAASA,GAErBmC,EAAUc,YAAYF,uIA7Bf,QAAS,QAJH,SAAStC,OAChByC,EAAWrD,KAAKM,WAAWyB,cAAc,iBAC1CpC,KAAKQ,OAASkD,EAAShD,aAAa,UACxCJ,KAAKD,4DAmCA,UAAW,UAAW,iBA/DlC,GAmEAc,OAAOC,eAAeC,OAAO,WAAYM,itBCnE5BgC,GAAb,0EAGI9D,eAAaC,UAAW6D,EAAa5D,KAEhC6B,mBAAL,SAAoCC,KAAKC,EAAK8B,YAAYtD,yBAL7BT,6DAevB8C,EAAYtC,KAAKwD,OACvBjB,EAAWvC,KAAKyD,WACXnB,GAAcC,GAAavC,KAAKL,KAAK+D,UAG1CpB,EAAU/B,iBAAiB,KAAKC,QAAQ,SAACC,GAAQA,EAAGkC,yBAEzBgB,OAAOC,QAAQ5D,KAAKL,KAAK+D,yBAAW,iBAAnDG,OAAKC,OACXlB,EAAOpD,eAAaqD,OAAON,EAASO,QAAQC,WAAU,IACtDC,KACJA,EAAQC,GAAKhC,IACb+B,EAAQa,IAAMA,EACdb,EAAQc,MAAQA,MACZZ,EAASN,EAAKI,GAClBV,EAAUc,YAAYF,yDAnBtB,mBAVN,GAkCApC,OAAOC,eAAeC,OAAO,eAAgBsC"}